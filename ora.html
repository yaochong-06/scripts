<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Courier New" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602326 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: Courier New;
      font-size: 11pt;
    }
  </style>
</head>
<body>
<a name="1641"/>

<div>
<span><div><div>bash shell脚本写的oracle数据库 <font style="color: rgb(255, 70, 53);">优化/诊断/健康检查</font> 工具包, linux一般默认使用bash shell; 其他操作系统(AIX/HP-UX/Solaris)如果没有安装bash shell,需要安装. 不能在windows操作系统下使用.</div><div><br/></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">使用方法:</span></font></div><div>        ftp oraxxx (xxx是版本号)到 linux/unix 数据库服务器, <span style="color: rgb(255, 70, 53); font-weight: bold;">mv oraxxx ora</span> ; <span style="color: rgb(255, 0, 0); font-weight: bold;">chmod +x ora</span> , 然后用oracle用户执行 <span style="color: rgb(255, 0, 0); font-weight: bold;">./ora</span>  ,<span style="font-size: unset; color: unset; font-family: unset;">该命令显示当前ora支持的所有子命令.</span></div><div><span style="font-size: unset;"><br/></span></div><div>        可以把ora放到已有的PATH中或增加当前路径到PATH,避免每次在命令前增加./</div><div><br/></div><div>        ora 默认使用数据库sys用户权限连接数据库(部分命令需要sysdba权限,比如查隐含参数等) ;</div><div>        脚本中配置了<span style="color: rgb(255, 0, 0); font-weight: bold;">DBUSER=&quot;/ as SYSDBA&quot;</span> , 如果需要其他用户如system连接, 或通过客户端连接,或连接到某个pdb,需要修改这个配置. 比如 <span style="color: rgb(255, 0, 0); font-weight: bold;">DBUSER=&quot;system/oracle@orcl&quot;  </span></div><div><br/></div><div>        命令语法:</div><div>        ora 命令 [可选参数] &lt;必选参数&gt;        部分命令区分RAC节点,需要在命令前使用 -i 节点号, 如 ora -i 节点号 命令  (默认i=1)</div><div><br/></div><div>        举例:</div><div>            ora 4031                    诊断当前实例ora-4031问题</div><div>            ora load  或 ora load 24 或 ora load &lt;bid&gt; &lt;eid&gt;  显示数据库的load profile变化情况,默认显示最近48个snap</div><div>            ora sql &lt;<span style="font-style: italic;">sql_id&gt;            </span>显示指定sql的详细信息,包括历史执行情况,执行计划,涉及的表等信息</div><div>            ora pc                      显示一段时间以来(默认31天),执行计划发生重大改变的TOP 50 SQL            </div><div>            ora pc2                     显示当前使用的执行计划是不是最好的执行计划</div><div>            ora sqlhc &lt;<span style="color: rgb(77, 206, 29); font-style: italic;">sqlid1&gt; [sqlid2]</span> <span style="color: rgb(77, 206, 29);">...</span> 收集一个或多个sqlid的sqlhc信息(需要<span style="font-weight: bold;">ora_sqlhc.sql</span>文件在当前目录)</div><div>            ora table &lt;<span style="color: rgb(65, 173, 28); font-style: italic;">tab_name&gt;</span> <span style="color: rgb(77, 206, 29); font-style: italic;">[owner]</span><span style="font-style: italic;">  </span>采集某个table的详细信息, schema名可以在参数输入,也可以在下一步选择</div><div>            ora -i 2 ashcnt 20</div><div><br/></div><div><span style="font-size: 16pt; font-weight: bold;">命令说明:</span></div><div><span style="font-size: 12pt;">命令名称后面的竖线|代表别名; 其他|代表各可选项</span></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 64px;"></col><col style="width: 335px;"></col><col style="width: 903px;"></col><col style="width: 236px;"></col></colgroup><tbody><tr><td style="width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">编号</span></div></td><td style="width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">命令名称</span></div></td><td style="width: 903px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">命令说明</span></div></td><td style="width: 236px; padding: 8px; border: 1px solid;"><span style="font-size: 12pt; font-family: 幼圆;">补充说明</span></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">1</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">4031</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>诊断<span style="font-weight: bold;">4031</span>问题(官方脚本) , 只显示当前实例信息, 不支持 -i (保持官方脚本原样)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>v$改成gv$,可以查其他节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">2</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">alert [2]</span><span style="font-size: 12pt; font-family: 幼圆;">                           </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示最近2天(默认) <span style="font-weight: bold;">alert.log</span> (v$diag_alert_ext)里面包含 <span style="font-weight: bold;">ORA- / Checkpoint not complete / ALTER</span>等关键字的信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>可改脚本,增加自定义关键字</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">3</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">ashcnt</span> <span style="font-size: 12pt; font-family: 幼圆;">[30]</span><span style="font-size: 12pt; font-family: 幼圆;">                         </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>coung(*) group by sample_time <span style="font-weight: bold;">gv$active_session_history</span> 最近 30分钟(默认)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点; -a 显示按分钟统计</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">4</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">ashdump</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">[1]</span><span style="font-size: 12pt; font-family: 幼圆;">                        </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>dump <span style="font-weight: bold;">ash(v$active_session_history)</span> records into trc file,default value is 1 minutes   </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">5</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">ashevent 10 2</span><span style="font-size: 12pt; font-family: 幼圆;">                          </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示最近10分钟ASH 各采样点的top 2 event(group by inst_id,sample_time,events)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点;</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">6</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">ashsql &quot;14:15&quot; 20</span><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;"> | dashsql</span></font></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">ash</span>(gv$active_session_history)和 <span style="font-weight: bold;">DASH</span>( dba_hist_active_sess_history),<span style="font-weight: bold;">group by sql_id and event</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">7</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">ashtop|topash</span><span style="font-size: 12pt; font-family: 幼圆;"> [10]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>4个维度显示ash top 10信息(sql/session/activity/event),默认最近10分钟  (括号后表示别名)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点;</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">8</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">asm</span><span style="font-size: 12pt; font-family: 幼圆;">                                    </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示 asm 磁盘组空间 / 剩余空间</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">9</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">awr</span> <span style="font-size: 12pt; font-family: 幼圆;">[bid] [eid]</span><span style="font-size: 12pt; font-family: 幼圆;">                        </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>收集bid和eid间隔的AWR报告(RAC所有节点和Global),采集top 60 sql;可<span style="font-weight: bold;">交互选择输入</span>bid和eid(默认是最近两次)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">10</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">awrsnap</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">[3]</span><span style="font-size: 12pt; font-family: 幼圆;">                        </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示3天(默认)内的awr snapshot信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">11</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">awr_baseline</span><span style="font-size: 12pt; font-family: 幼圆;"> [bid] [eid] </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>指定 bid eid ,创建awr baseline (可<span style="font-weight: bold;">交互选择输入</span> bid / eid)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">12</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                     </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">13</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">batch_sqlhc &lt;bid&gt;&lt;eid&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">&lt;r1&gt;&lt;r2&gt;&lt;r3&gt; y</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>选定 bid和eid,批量生成top sql的sqlhc信息;r1=cpu r2=read r3=time 各维度top sql个数; </div><div>获取top sql后,会询问是否要编辑刚刚生成的<span style="color: rgb(255, 0, 0); font-weight: bold;">ora_sql_id.log</span> (参考ora_sql_detail.log,类似sql可以删除),编辑后回车(输入n或N退出),开始批量生成 ; 参数可以在命令行写全,也可以交互输入</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">14</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;"><span style="font-size: 12pt; font-family: 幼圆; color: rgb(255, 0, 0);">batch_osstat</span> [48]|&lt;bid&gt;&lt;eid&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>批量显示awr osstat信息(类似 AWR osstat部分),默认最近48个snap ; 或指定bid和eid</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">15</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">batch_event</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">[48]</span><span style="font-size: 12pt; font-family: 幼圆;">|&lt;bid&gt;&lt;eid&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>批量显示awr top 5 等待事件,默认最近48个snap ; 或指定bid和eid</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">16</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">batch_load | </span><span style="font-size: 12pt; color: rgb(255, 0, 0); font-family: 幼圆;">load</span> <span style="font-size: 12pt; font-family: 幼圆;">[48]</span><span style="font-size: 12pt; font-family: 幼圆;">|&lt;bid&gt;&lt;eid&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>批量显示awr load profile 信息,默认最近48个snap ; 或指定bid和eid</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">17</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">batch_iostat [48]|&lt;bid&gt; &lt;eid&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>批量显示awr top 5 reads tablespace信息 (awr: Tablespace IO Stats) 12.1及以下<span style="font-weight: bold;"> </span>,默认最近48个snap ; 或指定bid和eid</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">18</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">19</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">bc [10]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示<span style="font-weight: bold;">v$bh</span> (buffer cache) Top 10 对象       </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">20</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">big [20]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示整个数据库中, 单表/索引 或 单分区/分区索引 最大的20个对象</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">21</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">big_by_tbs &lt;tbs_name&gt; [20]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>按表空间显示最大对象                                  </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">22</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">bind</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;sql_id&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示指定sql_id的当前(gv\$sql_bind_capture)和历史(dba_hist_sqlbind) <span style="font-weight: bold;">绑定变量信息</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">23</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">24</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">col &lt;owner&gt;&lt;tab_name&gt;&lt;col_name&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示指定字段的详细信息: </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">25</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-family: 幼圆;">check</span></span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>健康检查:  unusable/invisible/invalid/bitmap/FK/rman/degree/px sessions/增加你的定制脚本      </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">26</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">cputime</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>按天/按snap 统计 CPUtime top 10 </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">27</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">cursor_summary</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>关于(un)pinned cursor的统计 : x$kglcursor</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">28</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">29</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">dashcnt &quot;yyyy/mm/dd hh24:mi&quot;</span><span style="font-size: 12pt; font-family: 幼圆;"> [30]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>默认30分钟范围 : dba_hist_active_sess_history group by sample_time</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">30</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">dashevent &quot;yyyy/mm/dd hh24:mi&quot; </span><span style="font-size: 12pt; font-family: 幼圆;">20 2</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>20默认20分钟,top 2 events,group by <span style="font-weight: bold;">inst_id,sample_time,events</span> (DASH)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">31</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">dashsql</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>ashsql 别名 </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">32</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">dbtime</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>按天/按snap 统计 DBtime top 10 </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">33</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">ddl</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;"> &lt;name&gt; &lt;owner&gt; <span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">&lt;type&gt;</span></span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>DDL info : dbms_metadata.get_ddl (不分大小写); name/owner/type可交互输入,提供name后,其他内容会提示默认值</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">34</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">degree ( parallel )</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示带并行度属性的表或索引 ; 正在执行的 parallel processes ; </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">35</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">dir</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示当前数据库创建的 directory 信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">36</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">drop patch|profile|</span><span style="font-size: 12pt; font-family: 幼圆;">baseline &lt;name&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>删除 sql patch/sql profile/sql plan baseline </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">37</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">dpr_risk [100]</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>一天超过100(默认)次的大表全表扫描 (blocks &gt; 0.8*_small_table_threshold )</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">38</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">dup_index &lt;owner&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示指定用户的重复索引信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">39</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div>dg | dg_info</div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>show data guard info (contributed by Albert Liang)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">40</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">event</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>gv$session  'ACTIVE' ; not IDLE; group by event</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点;</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">41</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">event2sqlid &lt;event_name&gt; </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;bid&gt; &lt;eid&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>根据等待事件名, 在指定时间段 , 找到生成该事件的sqlid (dash); 显示top 5</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">42</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">event_set</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示当前系统设置的event,如 alter system set events '60025 trace name context forever';  10046等;     </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>session级看不到</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">43</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">expdash</span><span style="font-size: 12pt; font-family: 幼圆;"> </span><span style="font-size: 12pt; font-family: 幼圆;">&quot;2020/05/27 10:33:40&quot; 30</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>12.2+ 以上版本支持; expdp导出dba_hist_active_sess_history指定时间段记录; 使用默认directory; 导出后会显示</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">44</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">45</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">feature</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>数据库使用的功能:db link/trigger/partition/compress/temporary/sqlpatch/profile/baseline/..    </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">46</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">file | files</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>列出文件名: spfile/control_file/datafile/tempfile</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">47</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">fulltext</span><span style="font-size: 12pt; font-family: 幼圆;"> </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;sql_id&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示长sql(不超过 32767)的完整SQL text ; v$sql.sql_text 只有varchar2(1000) ; &gt;32767 fulltext_long.sql</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">48</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">gather &lt;owner&gt; &lt;table_name&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>收集表的统计信息dbms_gather_table_stats(<span style="font-weight: bold;">cascade=&gt;true,no_invalidate=&gt;false</span>)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">49</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">50</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">histogram &lt;owner&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">&lt;tab_name&gt;&lt;col_name&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>得到字段直方图信息(各值对应的记录数比例)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">51</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">highparse</span><span style="font-size: 12pt; font-family: 幼圆;"> </span><span style="font-size: 12pt; font-family: 幼圆;">[500]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>查找硬解析高的SQL(默认&gt;500) 显示 top 50  (save_highparse.sql 定期抓取,保存到表);highparse2 : 按资源消耗统计</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">52</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">highcost 50</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>gv$sql_plan cost最大的top 50(默认) sql</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">53</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">high_version [100]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示游标个数超过100(默认)的sqlid 列表; 游标不能共享的原因汇总 ; 单个sql原因使用ora <span style="font-weight: bold;">sharing</span> &lt;sqlid&gt;</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">54</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">hintname|hint &lt;keyword&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>根据部分关键字,显示相关 hint (v$sql_hint)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">55</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">hangdump</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>hanganalyze 3 + systemdump 10 , <span style="font-weight: bold;">已屏蔽</span> , 必要时可以打开, 收集诊断信息 </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">56</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">idx2sqlid &lt;index_name&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;">显示索引被哪些sql使用,全部列出 (dba_hist_sql_plan / gv$sql_plan)</td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">57</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">idxinfo</span><span style="font-size: 12pt; font-family: 幼圆;"> </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;index_name&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示指定索引相关信息 (没有用户名参数)      </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">58</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="color: rgb(255, 0, 0);">index &lt;table_name&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示指定表的索引信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">59</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">job</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示job列表</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">60</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">kill &lt;sid&gt; &lt;serial&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> [inst_id]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>kill session immediate ; 默认 节点号=1</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">61</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">longops</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示 gv$session_longops 正在执行的长时间SQL (剩余时间经常不准)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">62</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; color: rgb(255, 0, 0); font-family: 幼圆; font-weight: bold;">lock | blocker</span><span style="font-size: 12pt; color: rgb(255, 0, 0); font-family: 幼圆; font-weight: bold;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示锁及阻塞关系</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">63</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">lob</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示lob segment占用空间最多的top 50 (&gt;=10M)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">64</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">lobfree &lt;owner&gt; &lt;lobsegname&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示securefile类型的lob segment剩余空间(basicfile类型不适合) ; segment_name结尾的两个$, 需要转义\$\$      </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">65</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">    </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">66</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">mvsnap</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示 all_snapshots (mview) 状态                                      </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">67</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-family: 幼圆; font-weight: bold;">montop [20]</span></span><span style="font-size: 12pt; font-family: 幼圆;"><span style="font-size: 12pt; font-family: 幼圆; color: rgb(255, 0, 0); font-weight: bold;"> </span> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>保存当前monitor 列表内<span style="font-weight: bold;">执行时间最长</span>的 top 20(默认) sql monitor files</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">68</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">monlist [50]</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>列出 top 50 (def=50) monitor 监控队列(按<span style="font-weight: bold;">sql_exec_start desc</span>排序)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">69</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;"><span style="font-size: 12pt; font-family: 幼圆; color: rgb(255, 0, 0); font-weight: bold;">monsave &lt;sqlid&gt;</span> </span><span style="font-size: 12pt; font-family: 幼圆;">[active]|text</span><span style="font-size: 12pt; font-family: 幼圆;"> &lt;exec_id&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>保存指定sql_id的sql monitor文件,默认active格式(text格式需指定),保存到当前目录 <span style="font-weight: bold;">&lt;sql_id&gt;_ACTIVE.html</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">70</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">mon_bind &lt;sql_id&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>从v$sql_monitor中获得指定sql_id的绑定变量信息 (适合做批量比较); (可以进一步xml分解)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">71</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">monsavehis &lt;sqlid&gt; </span><span style="font-size: 12pt; font-family: 幼圆;">[active]|text</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>12c ; 最后一个rid ; sql monitor report from <span style="font-weight: bold;">dba_hist_reports  </span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">72</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">mon_index_create</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>监控索引创建进度(segment_type='TEMPORARY'阶段; 不是全表扫描阶段)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">73</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">mon_unzip &lt;12cSQLMON&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>12c sql monitor做了压缩和base64 编码; 解压成普通文本文件:  <span style="color: rgb(255, 0, 0); font-weight: bold;">unzip_</span>&lt;file_name&gt;      </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">74</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">75</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">obj</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;part of obj info&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> [owner]  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>例子: ora obj dba_hist%  /  ora obj %v\$sql% public  /  ora obj %plan</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">76</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">open_cursor [100]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>打开游标数超过100(默认) 的session id , 显示top 30 </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">77</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">outline</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;profile|patch&gt; </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;name&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示指定sql profile|sql patch 的outline data信息,(<span style="font-weight: bold;">不包含sql_plan_baseline</span>)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">78</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">79</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">params [&lt;pattern&gt;]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>查看初始化参数,包括隐含参数:  ora params unnest  (不需要使用%)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>仅当前节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">80</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">parameter </span><span style="font-size: 12pt; font-family: 幼圆;">[&lt;pattern&gt;] [2]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>dba_hist_parameter last snap / gv$parameter ; 查看参数在最近2(默认)个snapshot内,是否发生了改变 </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">81</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">pc</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">[8]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>8天(默认)内执行计划发生改变的sql;  </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>不分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">82</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">pc2</span><span style="font-size: 12pt; font-family: 幼圆;">  [8]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>8天(默认)内执行计划发生改变的sql; 当前sql使用的执行计划是不是最好的      </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>不分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">83</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">pga [50]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示按PGA_USED_MEM 排序的top 50(默认) process 信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">84</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; color: rgb(168, 168, 168); font-family: 幼圆;">pga_detail &lt;os_pid&gt; | </span><span style="font-size: 12pt; color: rgb(168, 168, 168); font-family: 幼圆;">-mem &lt;size_M&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示某个指定pid的pga详细使用情况 :  ora pga_detail &lt;ospid&gt;</div><div><span style="font-weight: bold;">显示所有超过阀值&lt;size_mb&gt;的process pga使用详细信息(</span><span style="color: rgb(255, 0, 0); font-weight: bold;">慎用!,建议先执行ora pga</span><span style="font-weight: bold;">)</span>  : ora pga_detail -mem 100</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>不建议普通DBA使用</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">85</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">86</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">pid</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;pid&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>单行显示指定pid详细信息 (gv$process 与 gv$session 关联)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">87</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">print_table &lt;sql_text&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>示例: ora print_table &quot;select * from <span style="font-weight: bold;">v</span><span style="color: rgb(255, 0, 0); font-weight: bold;">\</span><span style="font-weight: bold;">$</span>session where username=<span style="color: rgb(255, 0, 0); font-weight: bold;">''</span><span style="font-weight: bold;">FRED''</span> and rownum&lt;=1&quot;</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>适合多字段显示</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">88</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">process &lt;pid&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>用print_table的竖列显示模式,显示process详细信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">89</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">process_dump &lt;pid&gt; &lt;level&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>debug用</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">90</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">processes [&lt;min_mb&gt;]</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>与pga命令类似,只显示PGA_MAX_MEM 操作指定阀值(单位M)的process信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">91</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">purge</span><span style="font-size: 12pt; font-family: 幼圆;"> </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;sql_id&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>调用SYS.DBMS_SHARED_POOL.PURGE</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">92</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">93</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">raw &lt;date|varchar2|number&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> &lt;value&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>将字段上统计信息low/high_value的raw格式转换成可读格式: ora raw date 7878051410260B =&gt; 2020-05-20 15:37:10  </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">94</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">realmon</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>类似oratop,只执行一次; 可以用repeat 重复多次执行:  ora repeat 5 100 realmon (5秒一次,执行100次)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">95</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">redo</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示redo信息 : <span style="font-weight: bold;">redo log按小时统计生成频率</span>; online redo log信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">96</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">recover_state | recover</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>gv$fast_start_transactions : 显示smon实例恢复进度</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">97</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">resize</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示数据文件能够resize的最小大小</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">98</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">99</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">repeat &lt;interval&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">&lt;count|forever&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">&lt;ora_command&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>重复执行命令 ,如 ora repeat 5 100 temp : 每5秒执行一次 temp 命令,执行100次</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">100</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">101</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">rman</span><span style="font-size: 12pt; font-family: 幼圆;">                                   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示rman 状态 和 RECOVERY_FILE_DEST 信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">102</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">103</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">seq</span><span style="font-size: 12pt; font-family: 幼圆;">    </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示设置可能不合理的sequence (order_flag='Y' or cache_size&lt;=20)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">104</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">seg &lt;object_name&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示指定对象的segment 信息 (不用加owner)       </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">105</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">session</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;sid&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>用print_table的方式显示指定session id详细信息                            </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">106</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sessions</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>ora sessions [active]|all  (active: 不包括 BACKGROUD)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">107</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">session_event [all]|&lt;noidle&gt;|&lt;px&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>默认: group by EVENT;   noidle : 不包含idle event ;  px : 显示并行进程及等待时间;</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">108</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sh</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>执行一个命令 ,如: ora repeat 2 5 <span style="font-weight: bold;">sh 'ps -edf | grep DESC'</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">109</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sharing &lt;sql_id&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>sql version count高,显示各种原因汇总 ; (ora <span style="font-weight: bold;">high_version [100] 显示所有sql以及全部的汇总</span>)   </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">110</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sga</span><span style="font-size: 12pt; font-family: 幼圆;">       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示sga使用情况(gv$sgastat / gv$sga_dynamic_components)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">111</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sga_stats | sga_detail</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>(gv$sga_current_resize_ops / gv$sga_dynamic_components)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">112</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">snap | snapshot</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>生成一个snapshot (exec dbms_workload_repository.create_snapshot)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">113</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sparse_index</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>找出稀疏索引</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">114</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sparse_table</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>找出稀疏表</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">115</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sql &lt;sqlid&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> [typical]|&lt;adv&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示 sql 详细信息: sql_text/sql执行历史/<span style="font-weight: bold;">相同signature 10个/相同phv 10个(-s不显示)</span>/ash event/awr 执行计划/当前执行计划/历史执行情况汇总/当前执行情况汇总/相关表的大小行数等信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">116</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sql_baseline </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;sqlid&gt; &lt;sqlid&gt; &lt;PHV&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>对指定sql生成baseline </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">117</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sql_check</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>大表少索引/低效索引/filter多子操作/hash join结果集小  (gv$sql_plan)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">118</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sql_check_his</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>大表少索引/低效索引/filter多子操作/hash join结果集小 ( sys.WRH$_SQL_PLAN )</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">119</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sql_patch &lt;sqlid&gt; &lt;hint&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>12.2 之前复杂; 12.2之后简单 (bind_aware/monitor/opt_param/parallel等)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">120</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sql_profile </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;sqlid&gt; &lt;sqlid&gt; &lt;PHV&gt;</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>使用sql profile固定执行计划,两种情况</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">121</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sqlhc &lt;sqlid1&gt; </span><span style="font-size: 12pt; font-family: 幼圆;">[sqlid2] [sqlid3]</span><span style="font-size: 12pt; font-family: 幼圆;"> ...</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>收集一个或多个sql的sqlhc (需要ora_sqlhc.sql在当前目录)  </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">122</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">stats</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示当前系统<span style="font-weight: bold;">统计信息</span>相关情况                   </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">123</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">sysmetric </span><span style="font-size: 12pt; font-family: 幼圆;">&quot;yyyy/mm/dd hh24:mi&quot; [30]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>DBA_HIST_SYSMETRIC_HISTORY (60秒粒度), 默认 30 分钟</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">124</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">125</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">table</span><span style="font-size: 12pt; font-family: 幼圆;"> </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;tab_name&gt; [owner]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示表的相关信息:字段,分区,索引,统计信息等</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">126</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">tabidx</span><span style="font-size: 12pt; font-family: 幼圆;"> </span><span style="font-size: 12pt; font-family: 幼圆;">&lt;table_name&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>只取表的索引信息 (没有owner)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">127</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">tbs_last</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>从 dba_hist_tbspc_space_usage 快速获取表空间使用情况</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">128</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">tbs_usage</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>从 DBA_TABLESPACE_USAGE_METRICS 快速获取表空间使用情况</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">129</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">tbs_frag</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>tablespace 碎片情况 &lt;=1M   /   1M ~ 5M   /   &gt;5M 3档</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">130</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">tbs</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示表空间详细信息 </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">131</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">tbsinc</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示全部表空间每天增长情况</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">132</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">temp</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>temp tablespace使用情况 (4部分)  </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">133</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">topash [5]</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>同 ashtop</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">134</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">135</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">toparea</span><span style="font-size: 12pt; font-family: 幼圆;">                                </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>gv$sqlarea的top sql,分3个维度 : 5 cpu/5 reads/5 elap</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">136</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">toparea_by_sig </span><span style="font-size: 12pt; font-family: 幼圆;">cpu|time|read &lt;50&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>v#sqlarea group by <span style="font-weight: bold;">force_matching_signature</span> ; top 50 (默认)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">137</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">topsql_by_plan </span><span style="font-size: 12pt; font-family: 幼圆;">cpu|time|read &lt;50&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>v#sql group by <span style="font-weight: bold;">phv</span> ; top 50 (默认)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">138</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">139</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;"><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">tophis</span> cpu|read|time &lt;bid&gt;&lt;eid&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>dba_hist_sqlstat得到top sql: ora tophis cpu &lt;bid&gt; &lt;eid&gt; </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">140</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">tophis_byplan </span></span><span style="font-size: 12pt; font-family: 幼圆;">cpu|read|time &lt;bid&gt;&lt;eid&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>按照plan hash value 统计sql性能指标</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">141</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-family: 幼圆; font-weight: bold;">tophis_bysig </span></span><span style="font-size: 12pt; font-family: 幼圆;">cpu|read|time &lt;bid&gt;&lt;eid&gt;</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>按照signature 统计sql性能指标</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div>分节点</div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">142</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">toppid</span><span style="font-size: 12pt; font-family: 幼圆;"> [5]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>先选操作系统pid的top10, 再过滤关键字为 LOCAL 后的 top 5(默认值)( 用户连接)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">143</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">topseg [bid] [eid]</span><span style="font-size: 12pt; font-family: 幼圆;"> </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示类似awr top segment 信息:  AWR Segments by <span style="font-weight: bold;">'logical Reads'</span> and <span style="font-weight: bold;">'physical Reads'      </span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">144</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">top_level &lt;sql_id&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>根据 top_level sql_id,找到对应的子 sql_id (dba_hist_active_sess_history)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">145</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">text2sqlid &lt;text_piece&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>根据关键字,查找对应的sqlid (建议调试sql 通过注释/* tag001 */方式增加可识别度)</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">146</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">tran</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示 gv$transaction (没有commit的dml操作) </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">147</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">trc</span><span style="font-size: 12pt; font-family: 幼圆;">    </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>得到trace 文件所在路径     </div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">148</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">                                       </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">149</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">undo</span><span style="font-size: 12pt; font-family: 幼圆;">   </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示undo使用情况</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">150</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">user</span><span style="font-size: 12pt; font-family: 幼圆;"> | users</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>列出所有user信息</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">151</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">version</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>显示database version</div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">152</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">xp</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;sql_id&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">display_cursor ; </span><span style="color: rgb(255, 0, 0); font-weight: bold;">advanced allstats last</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">153</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">xpo &lt;sql_id&gt; [child_number]</span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>xplan.display_cursor <span style="font-weight: bold;">,显示执行计划先后执行顺序; adv mode</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">154</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">x</span><span style="font-size: 12pt; font-family: 幼圆;">  </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;sql_id&gt;</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">display_awr ; adv mode</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr><tr><td style="height: 14.4pt; width: 64px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">155</span></div></td><td height="19" style="height: 14.4pt; width: 335px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt; font-family: 幼圆;">xo</span><span style="font-size: 12pt; font-family: 幼圆;"> </span> <span style="font-size: 12pt; font-family: 幼圆;">&lt;sql_id&gt; [phv]</span><span style="font-size: 12pt; font-family: 幼圆;">  </span></div></td><td style="height: 14.4pt; width: 903px; padding: 8px; border: 1px solid;"><div>xplan.<span style="font-weight: bold;">display_awr ,显示执行计划先后执行顺序,adv mode</span></div></td><td style="height: 14.4pt; width: 236px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr></tbody></table><div><br/></div></div><div><br/></div></span>
</div></body></html> 